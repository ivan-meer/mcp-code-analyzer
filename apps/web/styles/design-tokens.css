/**
 * Дизайн-система MCP Code Analyzer
 * 
 * Основана на электрической/технологической тематике с элементами молнии.
 * Цветовая палитра вдохновлена электрическими разрядами и высокими технологиями.
 */

:root {
  /* === ЦВЕТОВАЯ ПАЛИТРА === */
  
  /* Primary Colors - Электрический фиолетовый (основан на молнии) */
  --color-primary-50: #f3f1ff;
  --color-primary-100: #ebe5ff;
  --color-primary-200: #d9ceff;
  --color-primary-300: #bea6ff;
  --color-primary-400: #9f75ff;
  --color-primary-500: #843dff;  /* Основной фиолетовый */
  --color-primary-600: #7c2d12;
  --color-primary-700: #6b21a8;
  --color-primary-800: #581c87;
  --color-primary-900: #4c1d95;
  --color-primary-950: #2e1065;

  /* Electric Blue - Цвет молнии/электричества */
  --color-electric-50: #ecfeff;
  --color-electric-100: #cffafe;
  --color-electric-200: #a5f3fc;
  --color-electric-300: #67e8f9;  /* Яркий электрический */
  --color-electric-400: #22d3ee;
  --color-electric-500: #06b6d4;  /* Основной электрический */
  --color-electric-600: #0891b2;
  --color-electric-700: #0e7490;
  --color-electric-800: #155e75;
  --color-electric-900: #164e63;

  /* Gradients - Основные градиенты */
  --gradient-primary: linear-gradient(135deg, #843dff 0%, #06b6d4 100%);
  --gradient-primary-hover: linear-gradient(135deg, #7c2d12 0%, #0891b2 100%);
  --gradient-electric: linear-gradient(90deg, #67e8f9 0%, #22d3ee 50%, #843dff 100%);
  --gradient-subtle: linear-gradient(135deg, #f3f1ff 0%, #ecfeff 100%);

  /* === СВЕТЛАЯ ТЕМА (по умолчанию) === */
  
  /* Фоны */
  --bg-primary: #ffffff;
  --bg-secondary: #f8fafc;
  --bg-tertiary: #f1f5f9;
  --bg-accent: var(--gradient-subtle);
  --bg-electric: rgba(103, 232, 249, 0.1);  /* Слабое свечение */
  
  /* Поверхности и карточки */
  --surface-primary: #ffffff;
  --surface-secondary: #f8fafc;
  --surface-elevated: #ffffff;
  --surface-accent: rgba(132, 61, 255, 0.05);
  
  /* Границы */
  --border-primary: #e2e8f0;
  --border-secondary: #cbd5e1;
  --border-accent: rgba(132, 61, 255, 0.2);
  --border-electric: rgba(103, 232, 249, 0.3);
  
  /* Текст */
  --text-primary: #0f172a;
  --text-secondary: #475569;
  --text-tertiary: #64748b;
  --text-accent: var(--color-primary-600);
  --text-electric: var(--color-electric-600);
  --text-muted: #94a3b8;
  
  /* Интерактивные элементы */
  --interactive-primary: var(--color-primary-500);
  --interactive-primary-hover: var(--color-primary-600);
  --interactive-secondary: var(--color-electric-500);
  --interactive-secondary-hover: var(--color-electric-600);
  
  /* Состояния */
  --state-success: #10b981;
  --state-success-bg: #d1fae5;
  --state-warning: #f59e0b;
  --state-warning-bg: #fef3c7;
  --state-error: #ef4444;
  --state-error-bg: #fee2e2;
  --state-info: var(--color-electric-500);
  --state-info-bg: var(--color-electric-50);

  /* Тени */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-electric: 0 0 20px rgba(103, 232, 249, 0.3);
  --shadow-primary: 0 0 20px rgba(132, 61, 255, 0.2);

  /* === АНИМАЦИИ И ЭФФЕКТЫ === */
  
  /* Длительности */
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --duration-slow: 350ms;
  
  /* Easing функции */
  --ease-out: cubic-bezier(0.0, 0.0, 0.2, 1);
  --ease-in: cubic-bezier(0.4, 0.0, 1, 1);
  --ease-in-out: cubic-bezier(0.4, 0.0, 0.2, 1);
  --ease-electric: cubic-bezier(0.25, 0.46, 0.45, 0.94);

  /* === РАЗМЕРЫ И ОТСТУПЫ === */
  
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
  --spacing-2xl: 3rem;
  
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  
  /* === ТИПОГРАФИКА === */
  
  --font-family-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-family-mono: 'JetBrains Mono', 'Fira Code', Consolas, monospace;
  
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;
}

/* === ТЕМНАЯ ТЕМА === */

[data-theme="dark"] {
  /* Фоны */
  --bg-primary: #0f0f23;        /* Глубокий космический */
  --bg-secondary: #1a1a2e;      /* Темно-фиолетовый */
  --bg-tertiary: #16213e;       /* Темно-синий */
  --bg-accent: linear-gradient(135deg, #1a1a2e 0%, #0f0f23 100%);
  --bg-electric: rgba(103, 232, 249, 0.15);  /* Усиленное свечение */
  
  /* Поверхности */
  --surface-primary: #1a1a2e;
  --surface-secondary: #16213e;
  --surface-elevated: #252545;
  --surface-accent: rgba(132, 61, 255, 0.1);
  
  /* Границы */
  --border-primary: #2d2d44;
  --border-secondary: #404040;
  --border-accent: rgba(132, 61, 255, 0.4);
  --border-electric: rgba(103, 232, 249, 0.5);
  
  /* Текст */
  --text-primary: #f8fafc;
  --text-secondary: #cbd5e1;
  --text-tertiary: #94a3b8;
  --text-accent: var(--color-primary-400);
  --text-electric: var(--color-electric-300);
  --text-muted: #64748b;
  
  /* Интерактивные элементы */
  --interactive-primary: var(--color-primary-400);
  --interactive-primary-hover: var(--color-primary-300);
  --interactive-secondary: var(--color-electric-400);
  --interactive-secondary-hover: var(--color-electric-300);
  
  /* Состояния для темной темы */
  --state-success: #34d399;
  --state-success-bg: rgba(52, 211, 153, 0.1);
  --state-warning: #fbbf24;
  --state-warning-bg: rgba(251, 191, 36, 0.1);
  --state-error: #f87171;
  --state-error-bg: rgba(248, 113, 113, 0.1);
  --state-info: var(--color-electric-400);
  --state-info-bg: rgba(103, 232, 249, 0.1);

  /* Усиленные тени для темной темы */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -2px rgba(0, 0, 0, 0.4);
  --shadow-electric: 0 0 30px rgba(103, 232, 249, 0.4);
  --shadow-primary: 0 0 30px rgba(132, 61, 255, 0.3);
}

/* === КОМПОНЕНТНЫЕ СТИЛИ === */

/* Электрические эффекты */
.electric-glow {
  box-shadow: var(--shadow-electric);
  animation: electric-pulse 2s infinite;
}

.primary-glow {
  box-shadow: var(--shadow-primary);
}

/* Градиентные кнопки */
.btn-gradient {
  background: var(--gradient-primary);
  color: white;
  border: none;
  transition: all var(--duration-normal) var(--ease-out);
}

.btn-gradient:hover {
  background: var(--gradient-primary-hover);
  transform: translateY(-1px);
  box-shadow: var(--shadow-lg);
}

/* Электрические границы */
.border-electric {
  border: 1px solid var(--border-electric);
  position: relative;
}

.border-electric::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--gradient-electric);
  border-radius: inherit;
  padding: 1px;
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: subtract;
  opacity: 0;
  transition: opacity var(--duration-normal) var(--ease-out);
}

.border-electric:hover::before {
  opacity: 1;
}

/* Анимации */
@keyframes electric-pulse {
  0%, 100% { 
    box-shadow: 0 0 20px rgba(103, 232, 249, 0.3);
  }
  50% { 
    box-shadow: 0 0 40px rgba(103, 232, 249, 0.6);
  }
}

@keyframes lightning-flash {
  0%, 90%, 100% { opacity: 0; }
  5%, 85% { opacity: 1; }
}

/* Утилиты для темизации */
.theme-transition {
  transition: background-color var(--duration-normal) var(--ease-out),
              border-color var(--duration-normal) var(--ease-out),
              color var(--duration-normal) var(--ease-out);
}

/* === МЕДИА-ЗАПРОСЫ === */

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    /* Автоматическое применение темной темы если нет явного указания */
    color-scheme: dark;
  }
}
